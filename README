moodle-offline-grading

Andy Sayler
www.andysayler.com
University of Colorado, Boulder
Dept. of Computer Science

Copyright 2013 by Andy Sayler
Licensed under the GNU GPL version 3

Tools for running grading scripts on Moodle 2 assignments

Overview:
    These tools provide a basic framework for mapping an auto-grading
    script across a set of Moodle submissions and generating a grading
    worksheet appropriate for upload to Moodle's "Offline Grading"
    assignments.

License:
    This file and all other files in this repository are part of
    moodle-offline-grading.

    moodle-offline-grading is free software: you can redistribute it
    and/or modify it under the terms of the GNU General Public License
    as published by the Free Software Foundation, either version 3 of
    the License, or (at your option) any later version.

    moodle-offline-grading is distributed in the hope that it will be
    useful, but WITHOUT ANY WARRANTY; without even the implied
    warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
    See the GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with moodle-offline-grading (see COPYING).  If not, see
    <http://www.gnu.org/licenses/>.

Process:
    1. Create a new Moodle assignment, utilizing the "Feedback files"
       and "Offline grading worksheet" options under the "Feedback
       Types" drop down on the "Adding a new Assignment" page
    2. Have students upload their submissions, zipped into a single
       archive, to the assignment. Make sure that they follow the
       necessary rules to make auto-grading easier (e.g. standard
       executable names and file layout, well defined interfaces, etc)
    3. Use the "Download all submissions" option in the "Grading
       action" drop-down menu on the assignment grading page to
       download a single zip file of all student submissions
    4. Use the "Download grading worksheet" option in the "Grading
       action" drop-down menu on the assignment grading page to
       download an input/blank grading worksheet
    5. Create/specify an auto-grading script, appropriate for grading a
       single submission and producing a numeric grade
    6. Run the ./grade_submission.py script as described below,
       passing paths to the items references above as input and
       specifying the name of the output/populated grading worksheet.
    7. Upload the output/populated grading worksheet back to Moodle
       using the "Upload grading worksheet" option in the "Grading
       action" drop-down menu on the assignment grading page

Files:
    README                    - This file
    ./grade_submissions.py    - Main grading framework script; maps
                                an auto-grading script across a set
                                of input submissions in a zip file,
                                outputting the grade results into a
                                Moodle grading_worksheet
    ./grading_worksheet.py    - A Python3 module for handling the
                                Moodle grading worksheet format
    ./test/
        submissions.zip       - An example set of basic "Hello World"
                                Moodle submissions, as generated by
                                the Moodle "Download all submissions"
                                function. Provided as input to the
                                grade_submissions.py script.
        grading_worksheet.csv - An example Moodle grading worksheet,
                                corresponding to the submissions in
                                submissions.zip, as generated by the
                                Moodle "Download grading worksheet"
                                function. Provided as input to the
                                grade_submissions.py script.
        submission_grader.py  - An example auto-grading script for
                                the "Hello World" submissions
                                included in submission.zip. Provided
                                as input to the grade_submissions.py
                                script.
        submission_good.py    - An example 100/100 "Hello World"
                                submission. Included as one of the
                                submissions in submissions.zip.
        submission_bad.py     - An example 0/100 "Hello World"
                                submission. Included as one of the
                                submissions in submissions.zip.
        submission_err.py     - An example "Hello World" submission
                                that throws a run-time error.

Auto-grading Script Interface:
    The framework supports running arbitrary auto-grading scripts, as long
    as they meet the following requirements:
        1. Script should be executable
        2. Script should operate on a single submission, producing a single
           grade with each execution.
        3. Script should assume that it will be run with a current working
           directory of an unzipped single submission
        4. Script should write a single numeric score to stdout (e.g. 97.30)
        5. Script should place all other output on stderr
        6. Script should take no run-time arguments
        7. Script should require no run-time input

Example:
    ./grade_submissions.py out.csv \
        ./test/grading_worksheet.csv ./test/submissions.zip ./test/submission_grader.py

    See './grade_submissions -h' for details

Limitations:
    This project is a work in progress. At this time it lacks support for
    robust error handling, submission sand-boxing, feedback logging, and a
    variety of other features planned for future development. Use at your
    own risk. Patches/bug reports welcome.
